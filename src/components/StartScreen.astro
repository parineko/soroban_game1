---
// StartScreen.astro
// ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
---

<div class="screen start-screen" data-screen="start">
  <div class="panel">
    <p class="big-copy">ã“ã‚“ã«ã¡ã¯ ğŸ‘‹</p>
    <p class="text">
      ãã‚ã°ã‚“ã® ã‹ãšã‚’ ã‚ˆã‚“ã§<br>
      ã“ãŸãˆã‚’ ã„ã‚Œã¦ã¿ã‚ˆã† âœ¨
    </p>
    <div class="button-column">
      <button class="btn primary" data-action="go-level" aria-label="ã¯ã˜ã‚ã‚‹">ã¯ã˜ã‚ã‚‹ ğŸˆ</button>
      <a href="/TestZero" class="btn" aria-label="ãã‚ã°ã‚“ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼">ãã‚ã°ã‚“ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ ğŸ’»</a>
      <button class="btn btn-fullscreen" id="fullscreen-btn" aria-label="å…¨ç”»é¢è¡¨ç¤º">â›¶ ãœã‚“ãŒã‚ã‚“</button>
      <button class="btn btn-exit-fullscreen" id="exit-fullscreen-btn" aria-label="å…¨ç”»é¢ã‚’è§£é™¤" style="display: none;">âœ• ãœã‚“ãŒã‚ã‚“ã‚’ ã‚„ã‚ã‚‹</button>
    </div>
  </div>
</div>

<style>
  .start-screen {
    width: 100%;
  }

  .big-copy {
    font-size: 2rem;
    text-align: center;
    margin: 8px 0 20px;
    color: var(--text-main);
    font-weight: bold;
  }

  .text {
    text-align: center;
    line-height: 1.8;
    font-size: 1.5rem;
    color: var(--text-main);
    margin: 0 0 32px;
    font-weight: 500;
  }

  .button-column {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
    margin-top: 20px;
  }

  .button-column .btn {
    width: 100%;
    max-width: 280px;
    font-size: 1.2rem;
    padding: 16px 24px;
  }

  .btn-fullscreen,
  .btn-exit-fullscreen {
    background: linear-gradient(135deg, #6b8e23, #556b2f);
    border-color: #556b2f;
    color: #ffffff;
  }

  .btn-fullscreen:hover,
  .btn-exit-fullscreen:hover {
    background: linear-gradient(135deg, #556b2f, #4a5a1f);
  }
</style>

<script>
  // å…¨ç”»é¢è¡¨ç¤ºæ©Ÿèƒ½
  function toggleFullscreen() {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen().catch(err => {
        console.error('å…¨ç”»é¢è¡¨ç¤ºã«å¤±æ•—:', err);
      });
    } else {
      document.exitFullscreen();
    }
  }

  function updateFullscreenButtons() {
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    const exitFullscreenBtn = document.getElementById('exit-fullscreen-btn');
    const isFullscreen = !!document.fullscreenElement;
    
    if (fullscreenBtn && exitFullscreenBtn) {
      if (isFullscreen) {
        fullscreenBtn.style.display = 'none';
        exitFullscreenBtn.style.display = 'block';
      } else {
        fullscreenBtn.style.display = 'block';
        exitFullscreenBtn.style.display = 'none';
      }
    }
  }

  // ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
  document.addEventListener('DOMContentLoaded', () => {
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    const exitFullscreenBtn = document.getElementById('exit-fullscreen-btn');
    
    if (fullscreenBtn) {
      fullscreenBtn.style.display = 'block';
      fullscreenBtn.addEventListener('click', toggleFullscreen);
    }
    
    if (exitFullscreenBtn) {
      exitFullscreenBtn.style.display = 'none';
      exitFullscreenBtn.addEventListener('click', toggleFullscreen);
    }
    
    // å…¨ç”»é¢çŠ¶æ…‹ã®å¤‰æ›´ã‚’ç›£è¦–
    document.addEventListener('fullscreenchange', updateFullscreenButtons);
    updateFullscreenButtons();
  });
</script>

