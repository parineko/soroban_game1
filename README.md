ゲーム & くく学習アプリ 🍒

年長さん〜小学生向けの「そろばん総合学習 Webアプリ」です。
Astro と SVG技術を駆使し、スマホ・PC・タブレットで「本物のそろばんの操作感」を再現。
「読み取り練習」だけでなく、視覚的に理解できる「九九（掛け算）学習モード」も搭載しています。

## 🌟 特徴

- **🧠 右脳を鍛える**: 数字を「文字」ではなく「玉の形（イメージ）」として捉える力を養います。
- **👆 直感的な操作**: 指で玉を弾く、テンキーで答える。子供が迷わず使えるUI設計。
- **🌸 やさしいデザイン**: クリーム色やパステルカラーを基調とした、目に優しく親しみやすい画面。
- **📱 マルチデバイス対応**: SVGによる動的描画で、どんな画面サイズでも美しく表示されます。

---

## 🎮 ゲームモードと機能

### 1. 📖 そろばんを よむ（読み取りゲーム）
画面に一瞬だけ表示されるそろばんの数字を読み取って答える、フラッシュ暗算の入門モードです。

* **レベル設定**:
    * **初級**: 1桁（2.0秒）
    * **中級**: 2桁（1.5秒）
    * **上級**: 3桁（1.0秒）
    * **カスタム**: 桁数（1〜5桁）と秒数（0.1〜10秒）を自由に設定可能。
* **流れ**: 出題 → テンキーで回答 → 全10問終了後にスコア発表。

### 2. 🍒 くくを おぼえる（九九学習モード）
そろばんを使って、掛け算の「増え方」を体感しながら覚えるモードです。

* **学習の仕組み（累加法）**:
    * 例：「2 × 1 = 2」の玉の状態から、自分で「+2」をして「2 × 2 = 4」を作る。
    * 答えがわからなくても、前の答えに「その段の数」を足せば次の答えになることを指先で学びます。
* **機能**:
    * **段の選択**: 2の段〜9の段まで選択可能。
    * **読み仮名表示**: 「に いち が...」と大きな文字で表示。
    * **リセット**: 途中でおかしくなっても、ボタン一つで「ゼロ」に戻せます。

### 3. 🎲 くくテスト（九九虫食いゲーム）
覚えた九九をランダム形式でテストする実践モードです。

* **ルール**:
    * 選択した段の問題が **ランダム** に出題されます。
    * **虫食い形式**: 正解すると、画面上の九九表の「？」が埋まっていきます。
    * **スキップ機能**: 間違えた問題は自動的にスキップされ、リストの最後に回されます（全問正解するまで終わりません）。
    * **クリア**: 9問すべて正解するとファンファーレが鳴り、次の段へ進めます。

### 4. 💻 そろばんシミュレーター
自由に触って学べるフリーモードです。

* **双方向連動**:
    * **タッチ操作**: 玉を動かすと、下の数字がリアルタイムに変わります。
    * **テンキー操作**: 数字を入力すると、そろばんが自動でパチパチ動きます。
* **活用法**: 足し算・引き算の練習や、桁の繰り上がりの確認に最適。

---

## 📂 プロジェクト構成

```text
src/
├── components/           # UIパーツ群
│   ├── StartScreen.astro      # タイトル画面（メニュー）
│   ├── LevelSelect.astro      # 読み取りゲームの設定画面
│   ├── GameScreen.astro       # 読み取りゲーム本編
│   ├── ResultScreen.astro     # 結果発表画面
│   ├── KukuSelect.astro       # 九九の段・モード選択画面
│   ├── KukuScreen.astro       # 九九「おぼえる」モード画面
│   ├── KukuGame.astro         # 九九「テスト」モード画面
│   └── ...
├── layouts/              # 共通レイアウト
│   └── BaseLayout.astro       # 全ページの基本枠・ヘッダー制御
├── pages/                # ページ定義
│   ├── index.astro            # アプリ本体（SPA風ルーティング管理）
│   └── TestZero.astro         # そろばんシミュレーター（独立ページ）
├── scripts/              # ロジック
│   ├── gameController.js      # 読み取りゲーム・SVG描画コアロジック
│   ├── kukuData.js            # 九九のデータ（問題・読み・答え）
│   └── levelConfig.js         # 定数設定
└── styles/               # デザイン
    └── global.css             # 全体のスタイル定義
🛠️ 技術スタック
Framework: Astro (静的サイト生成)

Language: TypeScript / JavaScript (Vanilla)

Rendering: SVG DOM操作による動的描画（軽量・高画質）

Styling: CSS (Scoped & Global), Flexbox/Grid layout

🚀 開発と実行
インストール
Bash

npm install
ローカルサーバー起動
Bash

npm run dev
ブラウザで http://localhost:4321 を開くと動作確認できます。

ビルド（本番用ファイルの生成）
Bash

npm run build