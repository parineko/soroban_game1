# 🧮 ゲーム & 九九学習アプリ + 本格そろばんツール 🍒

年長さん〜小学生向けの「そろばん総合学習 Webアプリ」です。
Astro と SVG技術を駆使し、スマホ・PC・タブレットで「本物のそろばんの操作感」を再現しています。

最新のアップデートで、**音声読み上げ機能**や、掛け算の本質（足し算）を体感できる**ステップアップ学習機能**が追加されました！

---

## 🌟 アプリの特長

- **🧠 右脳を鍛える**: 数字を「文字」ではなく「玉の形（イメージ）」として捉える力を養います。
- **🗣️ 耳と目で覚える**: 九九の問題とフル解答（例：「にさんがろく」）を音声で読み上げ、視覚的なポップアップと連動します。
- **➕ 本質を理解する**: 九九の「おぼえるモード」では、玉をリセットせず足し算で進めることで、掛け算の仕組みを体感できます。
- **📱 PWA対応**: スマホのホーム画面に追加すれば、オフラインでもネイティブアプリのように動作します。

---

## 🎮 あそびかた・各モードの解説

### 1. 📖 おぼえるモード（九九学習）
そろばんを使って、数の増え方を体感しながら九九を覚えるモードです。
- **やりかた**: 画面に表示される問題（例：「2 × 1 = ?」）に合わせてそろばんの玉を弾きます。
- **ポイント**: 正解するとポップアップと音声（「にいちがに」）が流れます。**玉はリセットされません！** そのまま次の問題（＋2）を足していくことで、掛け算が足し算の連続であることを直感的に学べます。

### 2. 🎲 テストモード（九九テスト）
覚えた九九をランダムに出題する虫食いテストモードです。
- **やりかた**: ランダムに出る問題の答えをそろばんで弾き、「こたえる ⭕」ボタンを押します。
- **ポイント**: 1問ごとに玉がリセットされます。全問正解すると、豪華な紙吹雪とファンファーレでお祝いしてくれます！

### 3. 👀 読み取りゲーム（フラッシュ暗算入門）
一瞬だけ表示されるそろばんの玉の配置を見て、数字を当てるゲームです。
- 桁数（1〜3桁）と表示時間を選んで挑戦できます。

### 4. 🪨 RealSoroban（没入型・道具モード）
学習機能とは独立した、純粋な「そろばん」ツールです。
- **やりかた**: スマホを横画面にすると起動します（`/RealSoroban`）。
- **ポイント**: 数字表示やテンキーなどの余計なUIを一切排除。13桁（一兆の位）まで計算できる、道具としてのそろばんに特化しています。

---

## 📂 プロジェクト構成

```text
SOROBAN_GAME1/
├── public/               # 静的アセット（画像、フォント、PWAマニフェスト）
│   ├── images/           # そろばんの玉などの画像素材
│   └── ABACUS2.woff      # ★重要: そろばん数字用フォントファイル
│
├── src/
│   ├── components/       # UIパーツ群（KukuScreen, KukuGame, StartScreen など）
│   ├── layouts/          # 共通レイアウト（PWA設定、Google Fonts読み込み）
│   ├── pages/            # ルーティング（index.astro, RealSoroban.astro など）
│   ├── scripts/          # ロジック（gameController.js, kukuData.js など）
│   └── styles/           # 共通デザイン・CSS
│
├── astro.config.mjs      # Astro設定 & PWA(Service Worker)設定
└── package.json          # 依存関係定義
🛠️ 技術スタック
Framework: Astro (静的サイト生成 + PWA)

Language: TypeScript / JavaScript (Vanilla)

Styling: CSS (Scoped & Global)

Font: Zen Maru Gothic (UI用), ABACUS2.woff (そろばん数字用)

💻 開発ガイド（ローカル環境）
プロジェクトの改修や動作確認を行うためのコマンドです。

1. インストール (初回のみ)

Bash
npm install
2. 開発サーバーの起動 (プレビュー)

Bash
npm run dev
※起動後、ブラウザで http://localhost:4321 を開いて確認してください。

3. 本番用ビルド

Bash
npm run build
※dist/ フォルダにデプロイ用のファイルが生成されます。

🚀 デプロイ・Gitコマンド集
コードを修正して、GitHub等に反映（プッシュ）する際の基本コマンドです。ターミナル（VSCodeのターミナル等）で順番に実行してください。

▼ いつものアップデート手順（変更をプッシュする）
1. 変更したファイルを確認する（省略可ですが、確認におすすめ）

Bash
git status
2. 変更したすべてのファイルを保存対象に追加する

Bash
git add .
3. どんな変更をしたかメモ（コミットメッセージ）を残す

Bash
git commit -m "九九の音声読み上げとポップアップ演出を追加"
※ "" の中のメッセージは、後から見てわかりやすい内容に書き換えてください。

4. GitHubなどのリモートリポジトリに送信（プッシュ）する

Bash
git push origin main
※ブランチ名が master の場合は git push origin master にしてください。

▼ もし困ったときの便利コマンド
間違えてファイルを変更してしまい、最後にコミットした状態に戻したい時

Bash
git restore .
リモート（GitHub側）の最新の変更を自分のパソコンに取り込みたい時

Bash
git pull origin main